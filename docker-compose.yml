services:
  db:
    image: postgres:16 # 최신 안정화 버전 사용
    container_name: gitmaze-db
    environment:
      POSTGRES_DB: gitmaze # 생성할 데이터베이스 이름
      POSTGRES_USER: gitmaze # 사용자 이름 (application.yml과 일치)
      POSTGRES_PASSWORD: 1234 # 비밀번호 (application.yml과 일치)
    ports:
      - "5432:5432" # 로컬 포트:컨테이너 포트
    volumes:
      - ./postgres_data:/var/lib/postgresql/data # 데이터 영속화 (컨테이너가 꺼져도 데이터 보존)
    restart: always
